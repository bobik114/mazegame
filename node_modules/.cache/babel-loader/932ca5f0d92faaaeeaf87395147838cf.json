{"ast":null,"code":"var _jsxFileName = \"/home/lukasz/Pulpit/Projekty/MyGame/src/components/player/Player.js\";\nimport React, { useState, useEffect } from 'react';\nimport useEventListener from '@use-it/event-listener';\n\nconst Player = () => {\n  const [xPosition, setXPosition] = useState(0);\n  const [yPosition, setYPosition] = useState(0);\n  const [facing, setFacing] = useState(0);\n  const [step, setStep] = useState(0);\n  const size = 77;\n  const direction = {\n    down: 0,\n    left: size * 1,\n    right: size * 2,\n    up: size * 3\n  };\n\n  const checkObstY = posY => {\n    if (posY == -38) setYPosition(posY * -1);\n  };\n\n  useEffect(() => {\n    let stepInterval = setInterval(() => {\n      if (step >= size * 8) {\n        setStep(0);\n      }\n\n      setStep(step + 1 * size);\n\n      if (step >= size * 8) {\n        setStep(0);\n        clearInterval(stepInterval);\n      }\n    }, 80); //----\n\n    if (xPosition === -38) {\n      setXPosition(prevState => prevState + 38);\n    } //-----\n\n\n    return () => clearInterval(stepInterval);\n  });\n  useEventListener(\"keydown\", ({\n    code\n  }) => {\n    console.log(code);\n    if (code.indexOf(\"Arrow\") === -1) return;\n\n    if (code === \"ArrowRight\") {\n      let xPosition;\n      setXPosition(prevState => prevState + 38);\n\n      if (xPosition === 114) {\n        setXPosition(prevState => prevState + 38);\n      }\n\n      setFacing(direction.right);\n    }\n\n    if (code === \"ArrowLeft\") {\n      setXPosition(prevState => prevState - 38);\n      setFacing(direction.left);\n    }\n\n    if (code === \"ArrowDown\") {\n      setYPosition(prevState => prevState + 38);\n      checkObstY(yPosition);\n      setFacing(direction.down);\n    }\n\n    if (code === \"ArrowUp\") {\n      setYPosition(prevState => prevState - 38);\n      setFacing(direction.up);\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"player\",\n    style: {\n      position: \"relative\",\n      width: 77,\n      height: 77,\n      left: xPosition,\n      top: yPosition,\n      background: `url(assets/player.png) -${step}px -${facing}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default Player;","map":{"version":3,"sources":["/home/lukasz/Pulpit/Projekty/MyGame/src/components/player/Player.js"],"names":["React","useState","useEffect","useEventListener","Player","xPosition","setXPosition","yPosition","setYPosition","facing","setFacing","step","setStep","size","direction","down","left","right","up","checkObstY","posY","stepInterval","setInterval","clearInterval","prevState","code","console","log","indexOf","position","width","height","top","background"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport useEventListener from '@use-it/event-listener'\n\nconst Player = () => {\n\n    const [xPosition, setXPosition] = useState(0)\n    const [yPosition, setYPosition] = useState(0)\n    const [facing, setFacing] = useState(0)\n    const [step, setStep] = useState(0)\n\n    const size = 77\n    const direction = {\n        down: 0,\n        left: size*1,\n        right: size*2,\n        up: size*3\n    }\n\n    const checkObstY = (posY) => {\n        if (posY == -38)\n        setYPosition(posY*(-1))\n    }\n\n    useEffect(() => {\n    let stepInterval = setInterval(() => {\n        if(step >= size*8) {\n            setStep(0)\n        }\n        setStep(step + 1*size)\n        if(step >= size*8) {\n            setStep(0)\n            clearInterval(stepInterval)\n        }\n    }, 80)\n    //----\n\n    \n\n    if(xPosition === -38) {\n        setXPosition(prevState => prevState+38)\n    }\n    //-----\n    return () => clearInterval(stepInterval)\n    })\n  \n    useEventListener(\"keydown\", ({ code }) => {\n        console.log(code);\n        if(code.indexOf(\"Arrow\") === -1) return\n        \n        if(code===\"ArrowRight\") {\n            let xPosition\n            setXPosition(prevState => prevState+38)\n            if(xPosition === 114) {\n                setXPosition(prevState => prevState+38)\n            }\n            setFacing(direction.right)\n\n        }\n        if(code===\"ArrowLeft\") {\n            setXPosition(prevState => prevState-38)\n            setFacing(direction.left)\n        }\n        if(code===\"ArrowDown\") {            \n            setYPosition(prevState => prevState+38)\n            checkObstY(yPosition)\n            setFacing(direction.down)\n        }\n        if(code===\"ArrowUp\") {\n            setYPosition(prevState => prevState-38)\n            setFacing(direction.up)\n        }\n    })\n\n    return <>\n    <div id=\"player\" style={{\n        position: \"relative\",\n        width: 77,\n        height: 77,\n        left: xPosition,\n        top: yPosition,\n        background: `url(assets/player.png) -${step}px -${facing}px`\n    }}></div>\n    </>\n}\n\nexport default Player"]},"metadata":{},"sourceType":"module"}