{"ast":null,"code":"var _jsxFileName = \"/home/lukasz/Pulpit/Projekty/MyGame/src/components/player/Player.js\";\nimport React, { useState, useEffect } from 'react';\nimport useEventListener from '@use-it/event-listener';\n\nconst Player = () => {\n  const [position, setPosition] = useState({\n    xCurrent: 0,\n    xPrevious: 0,\n    yCurrent: 0,\n    yPrevious: 0\n  });\n  const [attemptPosition, setAttemptPosition] = useState({\n    xCurrent: position.xCurrent,\n    xPrevious: position.xCurrent,\n    yCurrent: position.yCurrent,\n    yPrevious: position.yCurrent\n  });\n  const [facing, setFacing] = useState(0);\n  const [step, setStep] = useState(0);\n  const playerSize = 77;\n  const direction = {\n    down: 0,\n    left: playerSize * 1,\n    right: playerSize * 2,\n    up: playerSize * 3\n  };\n  useEffect(() => {\n    //animacja kroków--------------------------------------\n    let stepInterval = setInterval(() => {\n      if (step >= playerSize * 8) {\n        setStep(0);\n      }\n\n      setStep(step + 1 * playerSize);\n\n      if (step >= playerSize * 8) {\n        setStep(0);\n        clearInterval(stepInterval);\n      } //-----------------------------------------------------\n      // próba zablokowania wychodzenia za mapę-------------\n      // lewa ściana\n\n\n      if (attemptPosition.xCurrent >= 0) {\n        setPosition({ ...position,\n          xCurrent: attemptPosition.xCurrent\n        });\n      } else if (attemptPosition.xCurrent < 0) {\n        setAttemptPosition({ ...position,\n          xCurrent: position.xCurrent\n        });\n      } // górna ściana \n\n\n      if (attemptPosition.yCurrent >= 0) {\n        setPosition({ ...position,\n          yCurrent: attemptPosition.yCurrent\n        });\n      } else if (attemptPosition.yCurrent < 0) {\n        setAttemptPosition({ ...position,\n          yCurrent: position.yCurrent\n        });\n      } //------------------------------------------------------\n\n    }, 80);\n    return () => clearInterval(stepInterval);\n  }); // Poruszanie się za pomocą strzałek, ustalanie nowej pozycji oraz kierunku facing\n\n  useEventListener(\"keydown\", ({\n    code\n  }) => {\n    console.log(code);\n    if (code.indexOf(\"Arrow\") === -1) return;\n\n    if (code === \"ArrowRight\") {\n      setAttemptPosition(prevState => ({ ...position,\n        xCurrent: prevState.xCurrent + 77,\n        xPrevious: prevState.xCurrent\n      }));\n      setFacing(direction.right);\n    }\n\n    if (code === \"ArrowLeft\") {\n      setAttemptPosition(prevState => ({ ...position,\n        xCurrent: prevState.xCurrent - 77,\n        xPrevious: prevState.xCurrent\n      }));\n      setFacing(direction.left);\n    }\n\n    if (code === \"ArrowDown\") {\n      setAttemptPosition(prevState => ({ ...position,\n        yCurrent: prevState.yCurrent + 77,\n        yPrevious: prevState.yCurrent\n      }));\n      setFacing(direction.down);\n    }\n\n    if (code === \"ArrowUp\") {\n      setAttemptPosition(prevState => ({ ...position,\n        yCurrent: prevState.yCurrent - 77,\n        yPrevious: prevState.yCurrent\n      }));\n      setFacing(direction.up);\n    }\n  }); //--------------------\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"player\",\n    style: {\n      position: \"relative\",\n      width: 77,\n      height: 77,\n      left: position.xCurrent,\n      top: position.yCurrent,\n      background: `url(assets/player.png) -${step}px -${facing}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default Player;","map":{"version":3,"sources":["/home/lukasz/Pulpit/Projekty/MyGame/src/components/player/Player.js"],"names":["React","useState","useEffect","useEventListener","Player","position","setPosition","xCurrent","xPrevious","yCurrent","yPrevious","attemptPosition","setAttemptPosition","facing","setFacing","step","setStep","playerSize","direction","down","left","right","up","stepInterval","setInterval","clearInterval","code","console","log","indexOf","prevState","width","height","top","background"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport useEventListener from '@use-it/event-listener'\n\nconst Player = () => {\n\n    const [position, setPosition] = useState({\n        xCurrent: 0,\n        xPrevious: 0,\n        yCurrent: 0,\n        yPrevious: 0\n    })\n    const [attemptPosition, setAttemptPosition] = useState({\n        xCurrent: position.xCurrent,\n        xPrevious: position.xCurrent,\n        yCurrent: position.yCurrent,\n        yPrevious: position.yCurrent,\n    })\n    const [facing, setFacing] = useState(0)\n    const [step, setStep] = useState(0)\n\n    const playerSize = 77\n    const direction = {\n        down: 0,\n        left: playerSize*1,\n        right: playerSize*2,\n        up: playerSize*3\n    }\n\n    useEffect(() => {\n//animacja kroków--------------------------------------\n    let stepInterval = setInterval(() => {\n        if(step >= playerSize*8) {\n            setStep(0)\n        }\n        setStep(step + 1*playerSize)\n        if(step >= playerSize*8) {\n            setStep(0)\n            clearInterval(stepInterval)\n        }\n//-----------------------------------------------------\n// próba zablokowania wychodzenia za mapę-------------\n// lewa ściana\n            if(attemptPosition.xCurrent >= 0) {\n                setPosition({...position,\n                    xCurrent: attemptPosition.xCurrent,\n                })\n                \n            }\n            else if(attemptPosition.xCurrent < 0) {\n                setAttemptPosition({...position,\n                    xCurrent: position.xCurrent,\n                })\n                \n            }\n// górna ściana \n            if(attemptPosition.yCurrent >= 0) {\n                setPosition({...position,\n                    yCurrent: attemptPosition.yCurrent,\n                })\n                \n            }\n            else if(attemptPosition.yCurrent < 0) {\n                setAttemptPosition({...position,\n                    yCurrent: position.yCurrent,\n                })\n            }\n            \n//------------------------------------------------------\n    }, 80)\n    return () => clearInterval(stepInterval)\n    })\n  \n\n// Poruszanie się za pomocą strzałek, ustalanie nowej pozycji oraz kierunku facing\n\n    useEventListener(\"keydown\", ({ code }) => {\n        console.log(code);\n        if(code.indexOf(\"Arrow\") === -1) return\n        \n        if(code===\"ArrowRight\") {\n            setAttemptPosition(prevState => ({\n                ...position,\n                xCurrent: prevState.xCurrent+77,\n                xPrevious: prevState.xCurrent\n            }))\n            setFacing(direction.right)\n        }\n        if(code===\"ArrowLeft\") {\n            setAttemptPosition(prevState => ({\n                ...position,\n                xCurrent: prevState.xCurrent-77,\n                xPrevious: prevState.xCurrent\n            }))\n            setFacing(direction.left)\n\n            \n        }\n        if(code===\"ArrowDown\") {            \n            setAttemptPosition(prevState => ({\n                ...position,\n                yCurrent: prevState.yCurrent+77,\n                yPrevious: prevState.yCurrent\n            }))\n            setFacing(direction.down)\n        }\n        if(code===\"ArrowUp\") {\n            setAttemptPosition(prevState => ({\n                ...position,\n                yCurrent: prevState.yCurrent-77,\n                yPrevious: prevState.yCurrent\n            }))\n            setFacing(direction.up)\n        }\n    })\n//--------------------\n\n    return <>\n    <div id=\"player\" style={{\n        position: \"relative\",\n        width: 77,\n        height: 77,\n        left: position.xCurrent,\n        top: position.yCurrent,\n        background: `url(assets/player.png) -${step}px -${facing}px`\n    }}></div>\n    </>\n}\n\nexport default Player"]},"metadata":{},"sourceType":"module"}